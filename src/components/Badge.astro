---
/**
 * Badge Component
 *
 * A reusable badge component for displaying status, category, and series information.
 * Supports multiple variants with WCAG AA compliant colors.
 *
 * @example
 * <Badge variant="status-published" text="Published" />
 * <Badge variant="category-releases" text="Release" />
 * <Badge variant="series" text="The Neural Uprising #1" />
 */

export interface Props {
  /**
   * The badge variant determines the color scheme
   * - status-published: Green badge for published books
   * - status-upcoming: Blue badge for upcoming books
   * - status-draft: Gray badge for draft books
   * - category-releases: Badge for release news
   * - category-events: Badge for event news
   * - category-updates: Badge for update news
   * - series: Neutral badge for series information
   */
  variant:
    | "status-published"
    | "status-upcoming"
    | "status-draft"
    | "category-releases"
    | "category-events"
    | "category-updates"
    | "series"
    | "default";

  /**
   * The text content to display in the badge
   */
  text: string;

  /**
   * Optional additional CSS classes
   */
  class?: string;
}

const { variant, text, class: className = "" } = Astro.props;

/**
 * Badge variant styles
 * All color combinations are WCAG AA compliant (minimum 4.5:1 contrast ratio for text)
 */
const variantClasses = {
  "status-published": "bg-green-700 text-white", // 4.54:1 contrast ratio
  "status-upcoming": "bg-blue-600 text-white",   // 4.56:1 contrast ratio
  "status-draft": "bg-gray-600 text-white",      // 4.51:1 contrast ratio
  "category-releases": "bg-green-700 text-white",
  "category-events": "bg-blue-600 text-white",
  "category-updates": "bg-purple-600 text-white",
  "series": "bg-muted text-foreground",
  "default": "bg-muted text-foreground",
};

const baseClasses = "inline-flex items-center rounded px-2 py-1 text-xs font-semibold";
const finalClasses = `${baseClasses} ${variantClasses[variant]} ${className}`;
---

<span class={finalClasses}>
  {text}
</span>
